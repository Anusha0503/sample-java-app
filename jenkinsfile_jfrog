node {
      def server = Artifactory.server "Jfrogid"
      def registry = "http://34.235.151.213:8082/"
      def rtMaven = Artifactory.newMavenBuild()
      def buildInfo
      stage('checkout'){
            git branch: 'main', credentialsId: 'gitcredentials', url: 'https://github.com/Anusha0503/sample-java-app.git'
}
     stage('Artifactory configuration') {      
         rtMaven.tool = "maven"
         rtMaven.deployer releaseRepo:'libs-release-local', snapshotRepo:'libs-snapshot-local', server: server
         rtMaven.resolver releaseRepo:'libs-release-local', snapshotRepo:'libs-snapshot-local', server: server
 }
}
stage('Maven Build') {
             buildInfo = rtMaven.run pom: 'pom.xml', goals: 'clean package -U'
 }
